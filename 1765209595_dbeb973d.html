<pre><!DOCTYPE html>
<html>
<head>
    <title>合同对比</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            display: flex;
            height: 90vh;
            overflow: hidden;
        }
        .contract {
            width: 50%;
            border: 1px solid #ccc;
            padding: 10px;
            overflow-y: auto;
            overflow-x: hidden;
        }
        .highlight-add {
            background-color: yellow;
        }
        .highlight-remove {
            text-decoration: line-through;
            color: red;
        }
        .highlight-change {
            background-color: blue;
        }
        .legend {
            margin-top: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        .legend-key {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1>合同对比</h1>
    <div class="container">
        <div class="contract" id="contract1">
            <!-- Contract 1 Content -->
            <p>合同编号：2023-NCP-001</p>
            <p>甲方（卖方）：王五</p>
            <p>乙方（买方）：赵六</p>
            <p>根据《中华人民共和国民法典》及相关规定，双方在平等自愿基础上，就农副产品买卖达成协议：</p>
            <p>第一条 产品名称、数量、价格</p>
            <p>1.1 产品名称：新疆苹果</p>
            <p>1.2 数量：1500公斤</p>
            <p>1.3 单价：每公斤12.5元，总金额18750元。</p>
            <!-- ... Rest of the contract ... -->
            <p>签约日期：2023年10月18日</p>
        </div>
        <div class="contract" id="contract2">
            <!-- Contract 2 Content -->
            <p>合同编号：2023-NCP-001</p>
            <p>甲方（卖方）：王五</p>
            <p>乙方（买方）：赵六</p>
            <p>根据《中华人民共和国民法典》及相关规定，双方在平等自愿基础上，就农副产品买卖达成协议：</p>
            <p>第一条 产品名称、数量、价格</p>
            <p>1.1 产品名称：新疆香梨</p>
            <p>1.2 数量：1500公斤</p>
            <p>1.3 单价：每公斤12.5元，总金额18750元。</p>
            <!-- ... Rest of the contract ... -->
            <p>签约日期：2023年10月18日</p>
        </div>
    </div>
    <div class="legend">
        <div class="legend-item">
            <span class="legend-key">&#x1F535;</span> 增加内容
        </div>
        <div class="legend-item">
            <span class="legend-key">&#x1F6AB;</span> 删除内容
        </div>
        <div class="legend-item">
            <span class="legend-key">&#x1F5B8;</span> 修改内容
        </div>
    </div>
    <script>
        // Highlighting logic
        const contract1 = document.getElementById('contract1');
        const contract2 = document.getElementById('contract2');

        function highlightDifferences() {
            const regex = /(\d+\.\d+)\s*元|产品名称：([^：]+)|抽样比例：(\d+)%|每日赔付总金额(\d+\.\d+)%|每日赔付滞纳金(\d+\.\d+)%/g;
            let match;
            let lastMatchEnd = 0;

            while ((match = regex.exec(contract1.innerHTML)) !== null) {
                const start = match.index;
                const end = start + match[0].length;
                if (lastMatchEnd < start) {
                    contract1.innerHTML = insertHighlight(contract1.innerHTML, lastMatchEnd, start, 'highlight-change');
                }
                lastMatchEnd = end;
            }

            lastMatchEnd = 0;
            while ((match = regex.exec(contract2.innerHTML)) !== null) {
                const start = match.index;
                const end = start + match[0].length;
                if (lastMatchEnd < start) {
                    contract2.innerHTML = insertHighlight(contract2.innerHTML, lastMatchEnd, start, 'highlight-change');
                }
                lastMatchEnd = end;
            }
        }

        function insertHighlight(html, start, end, className) {
            return html.substring(0, start) + '<span class="' + className + '">' + html.substring(start, end) + '</span>' + html.substring(end);
        }

        highlightDifferences();
    </script>
</body>
</html></pre>